(()=>{var t,e={20:(t,e,i)=>{"use strict";var s,n,r=i(440),o=i.n(r),a=function(t,e,i,s){return new(i||(i=Promise))(function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((s=s.apply(t,e||[])).next())})};class h{}h.numbers={multiplyDecimals:(t,e)=>10*t+10*e},h.strings={joinWithUnderscore:function(t,e){return t+`_${e}`},replaceUnderscore:function(t){let e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e.includes("_")?t.toString().replaceAll("_"," "):t},removeUnderscore:function(t){let e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e.includes("_")?t.toString().replaceAll("_",""):t},removeStringPart:function(t,e){return a(this,void 0,void 0,function*(){return t.toString().replace(e,"")})},removeNumbers:function(t){return a(this,void 0,void 0,function*(){let e=[],i=["0","1","2","3","4","5","6","7","8","9"];for(let i=0;i<t.length;i++)e.push(t[i]);return yield(()=>a(this,void 0,void 0,function*(){for(let t=0;t<e.length;t++)if(i.includes(e[t].toString()))return e.filter(t=>isNaN(parseInt(t))).join("");return t}))()})},removeJunk:function(t){return a(this,void 0,void 0,function*(){const e=this.replaceUnderscore(t),i=yield this.removeNumbers(e);return yield this.removeStringPart(i,"tile")})},checkSpace:function(t){return a(this,void 0,void 0,function*(){return t.includes(" ")?t.replace(" ",""):t})},checkVowel:function(t){return a(this,void 0,void 0,function*(){const e=t[0];let i=["A","a","E","e","I","i","O","o","U","u"].includes(e)?"an ":"a ";return t.endsWith("s")&&(i=""),i})}},function(t){class e{constructor(){this.width=1920,this.height=1080,this.min={width:0,height:0},this.max={width:0,height:0},this.orientation={on:(t,i,s)=>{null!==typeof screen.orientation&&void 0!==typeof screen.orientation&&e.mobileAndTabletCheck()&&screen.orientation.addEventListener(t,i,s)},off:(t,i,s)=>{screen.orientation&&e.mobileAndTabletCheck()&&screen.orientation.removeEventListener(t,i,s)},lock:t=>{null!==typeof screen.orientation.lock&&void 0!==typeof screen.orientation&&e.mobileAndTabletCheck()&&screen.orientation.lock(t)},unlock:()=>{null!==typeof screen.orientation.unlock&&void 0!==typeof screen.orientation&&e.mobileAndTabletCheck()&&screen.orientation.unlock()}},this.parent="game",this.key="",this.mode=0,this.setup={key:"",physics:{arcade:{gravity:{x:0,y:0},useTicker:!0,debug:!1}}},this.min.width=innerWidth,this.min.height=innerHeight,this.max.width=1920,this.max.height=1080,this.inputType="generic",this.mode=Phaser.Scale.FIT,this.position=Phaser.Scale.CENTER_BOTH}static mobileAndTabletCheck(){let t=!1;var e;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}static isDesktop(i){return!!(!e.mobileAndTabletCheck()&&t.Config.isLandscape(i)||t.Process.width>540)}static isLandscape(t){return"landscape-primary"===t.scale.orientation.toString()||"landscape-secondary"===t.scale.orientation.toString()||"landscape"===t.scale.orientation.toString()}static isPortrait(t){return"portrait-primary"===t.scale.orientation.toString()||"portrait-primary"===t.scale.orientation.toString()||"portrait"===t.scale.orientation.toString()}static vibrate(t){navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate,navigator.vibrate(t)}}e.internet={connected:!1,proxy:!0},e.utils=h,t.Config=e,t.Process=new e}(s||(s={}));class c{static play(t,e,i=this.base_volume,s=!1,n=0){this.cached.push(e),this.cached.filter(r=>{r.toString()===e&&this.cached.splice(this.cached.indexOf(e),1),t.sound.add(e).setLoop(s).setVolume(i).setDetune(n).play()})}static stop(t,e){for(const i of t.sound.getAll(e))i.key==e&&i.stop()}}n=c,c.base_volume=.75,c.noAudio=!1,c.default=!1,c.cached=[],c.music={track:"",fadeIn:(t,e,i=n.base_volume)=>{for(const e of t.sound.getAllPlaying())e.key===n.music.track&&t.tweens.add({targets:e,volume:{value:0,ease:"Power1",duration:500}});const s=t.sound.add(e).setLoop(!0).setVolume(0);t.tweens.add({targets:s,volume:{value:i,ease:"Power1",duration:3e3},onStart:()=>s.play()})},fadeOut:(t,e,i=n.base_volume)=>{for(const s of t.sound.getAllPlaying())s.key===e&&t.tweens.add({targets:s,volume:{value:0,ease:"Power1",duration:3e3},onComplete:()=>{t.tweens.add({targets:s,volume:{value:i,ease:"Power1",duration:3e3}}),s.stop(),t.sound.removeByKey(e)}})},play:(t,e,i=n.base_volume)=>{n.music.track=e,t.sound.add(e).setLoop(!0).setVolume(i).play()}};var l=function(t,e,i,s){return new(i||(i=Promise))(function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((s=s.apply(t,e||[])).next())})};class d{static xhr(t,e,i){return l(this,void 0,void 0,function*(){const s=(d.proxyConnection?d.proxyConnection:window.fetch_electron?"http://localhost:8080/":"/")+t,n=yield d.request(e,i),r=window.cordova_xhr&&"function"==typeof window.cordova_xhr,o=window.fetch_electron&&"function"==typeof window.fetch_electron,a={method:n.method,headers:n.headers,body:r||o?n.body:JSON.stringify(n.body)};if(r)return window.cordova_xhr(s,a);if(o)return window.fetch_electron(s,a);const h=yield fetch(s,a);return yield h.json()})}static request(t,e){return l(this,void 0,void 0,function*(){switch(d.headers={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("webtoken")},t){case"GET":d.method="GET";break;case"POST":d.method="POST";break;case"PUT":d.method="PUT"}const i={method:d.method,headers:d.headers};return"POST"===t||"PUT"===t?i.body=e:delete i.body,i})}}d.proxyConnection=s.Config.internet.proxy?"https://some-url.com/":null;const u=JSON.parse('{"image":[{"splunk can":"assets/Splunk_Can_BUTTON.png"},{"play button":"assets/PLAY_button.png"},{"ticketblaster splash":"assets/splunkgamified_ticketblaster_splash.png"},{"dashboard home":"assets/HOME-01.png"},{"dashboard flow chart":"assets/FLOW_CHART_TRACES-01.png"},{"dashboard profiling":"assets/ALWAYS_ON_PROFILING-01.png"},{"dashboard waterfall":"assets/WATERFALL-01.png"},{"dashboard real user monitoring":"assets/REAL_USER_MONITORING-01.png"},{"dashboard infrastructure":"assets/INFRASTRUCTURE_MONITORING-01.png"},{"dashboard synthetics":"assets/SYNTHETICS-01.png"},{"dashboard traces":"assets/TRACES-01.png"},{"dashboard code page":"assets/CODE_PAGE-01.png"},{"dashboard tag spotlight":"assets/TAG_SPOTLIGHT-01.png"},{"dashboard back":"assets/BACK_BUTTON-01.png"},{"dashboard back clicked":"assets/BACK_BUTTON_CLICKED-01.png"},{"apm select dashboard":"assets/APM_HOME_BUTTON_CLICKED-01.png"},{"apm button dashboard":"assets/APM_BUTTON_CLICKED-01.png"},{"rum select dashboard":"assets/RUM_HOME_BUTTON_CLICKED-01.png"},{"rum button dashboard":"assets/RUM_BUTTON_CLICKED-01.png"},{"infrastructure select dashboard":"assets/INFRASTRUCTURE_MONITORING_HOME_BUTTON_CLICKED-01.png"},{"infrastructure button dashboard":"assets/INFRASTRUCTURE_MONITORING_BUTTON_CLICKED-01.png"},{"synthetics select dashboard":"assets/SYNTHETICS_HOME_BUTTON_CLICKED-01.png"},{"synthetics button dashboard":"assets/SYNTHETICS_BUTTON_CLICKED-01.png"},{"synthetics error":"assets/SYNTHETICS_ERROR-01.png"},{"real user monitoring replay video":"assets/REAL_USER_MONITORING-01-replay-video.png"},{"flow chart profiling":"assets/ALWAYS_ON_PROFILING_BUTTON_CLICKED-01.png"},{"flow chart tag spotlight":"assets/TAG_SPOTLIGHT_BUTTON_CLICKED-01.png"},{"flow chart traces button":"assets/TRACES_BUTTON_CLICKED-01.png"},{"traces error":"assets/TRACES_ERROR-01.png"},{"waterfall error":"assets/WATERFALL_ERROR-01.png"},{"popup text box":"assets/text_box.png"},{"popup text box purple":"assets/text_box_purple.png"},{"empty box":"assets/box.png"},{"heart":"assets/heart.png"},{"concert front":"assets/concert_front.png"},{"open splack":"assets/open-Splack.png"},{"skip button":"assets/skip.png"},{"individual run results":"assets/INDIVIDUAL_RUN_RESULTS_CLICKED-01.png"},{"order processing service":"assets/ORDER_PROCESSING_SERVICE-01.png"},{"scroll bar base":"assets/Splunk_APM_UI_Scroll-Bar-Base.png"},{"scroll bar button":"assets/Splunk_APM_UI_scroll-button.png"},{"play stack hunt button":"assets/play-stack.png"}],"atlas":[{"boo":["assets/boo.png","assets/boo.json"]},{"shoot":["assets/shoot.png","assets/shoot.json"]},{"target":["assets/target.png","assets/target.json"]},{"concert girl celebrating":["assets/girl_celebrating.png","assets/girl_celebrating.json"]},{"concert girl worried":["assets/girl_worried.png","assets/girl_worried.json"]}],"audio":[{"outro music":"assets/MUSIC_Outro_LOOP.wav"},{"dashboard music":"assets/MUSIC_StackHunt_LOOP-intro.wav"},{"stack hunt music":"assets/MUSIC_StackHunt_LOOP.wav"},{"apple happy sfx":"assets/13072_AppleHappy.wav"},{"apple sad sfx":"assets/13072_AppleSad.wav"},{"blast sfx":"assets/13072_Blast.wav"},{"boo sfx":"assets/13072_Boo.wav"},{"button click sfx":"assets/13072_ButtonClick.wav"},{"crowd cheering sfx":"assets/13072_CrowdCheering.wav"},{"heart popup sfx":"assets/13072_HeartPopup.wav"},{"screen grab sfx":"assets/13072_JustTheScreengrab.wav"},{"popup window sfx":"assets/13072_PopUpTextWindow.wav"}],"tilemapTiledJSON":[]}');var p=i(291),m=i.n(p);Phaser.GameObjects.Text;class f extends Phaser.Scene{constructor(){super("Boot")}preload(){return t=this,e=void 0,s=function*(){this.load.json("resources_main",u),this.load.plugin("rexvirtualjoystickplugin",m(),!0)},new((i=void 0)||(i=Promise))(function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((s=s.apply(t,e||[])).next())});var t,e,i,s}create(){this.time.delayedCall(250,()=>{var t;this.add.text(0,0,"",{font:"1px Splunk"}).setAlpha(0),null===(t=this.input.keyboard)||void 0===t||t.on("keyup",()=>this.initFullscreen()).on("keydown-ESCAPE",()=>{var t;return null===(t=this.input.mouse)||void 0===t?void 0:t.releasePointerLock}),this.input.on("pointerup",()=>this.initFullscreen()),document.addEventListener("fullscreenchange",()=>this.cameras.main.centerOn(this.cameras.main.width/2,this.cameras.main.height/2));const e=new Phaser.Scenes.Systems(this,{});this.scene.run("Preload",e.config)})}update(){this.fps&&this.fps.update()}initFullscreen(){}}var y=function(t,e,i,s){return new(i||(i=Promise))(function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((s=s.apply(t,e||[])).next())})};class b extends Phaser.Scene{constructor(){super({key:"Preload"})}init(t){this.data=t}preload(){return y(this,void 0,void 0,function*(){yield s.Process.app.resourceParser(this,this.cache.json.get("resources_main")),yield this.progressBar()})}create(t){return y(this,void 0,void 0,function*(){this.time.delayedCall(500,()=>{var e;(e=this).anims.create({key:"boo anim",frames:e.anims.generateFrameNames("boo",{prefix:"BOO_",start:0,end:54,zeroPad:2}),frameRate:24,repeat:0,yoyo:!0}),e.anims.create({key:"shoot anim",frames:e.anims.generateFrameNames("shoot",{prefix:"SHOOT_",start:0,end:13,zeroPad:2}),frameRate:60,repeat:0,yoyo:!0}),e.anims.create({key:"target anim",frames:e.anims.generateFrameNames("target",{prefix:"TARGET_",start:0,end:71,zeroPad:2}),frameRate:8,repeat:-1,yoyo:!0}),e.anims.create({key:"concert girl celebrating anim",frames:e.anims.generateFrameNames("concert girl celebrating",{prefix:"Concert_Girl_celebrating_",start:1,end:94,zeroPad:2}),frameRate:24,repeat:0,yoyo:!1}),e.anims.create({key:"concert girl worried anim",frames:e.anims.generateFrameNames("concert girl worried",{prefix:"Concert_Girl_worried_",start:1,end:99,zeroPad:2}),frameRate:24,repeat:0,yoyo:!1}),this.scene.run("Intro",t),this.scene.stop("Preload")})})}progressBar(){return y(this,void 0,void 0,function*(){let t=this.cameras.main.width,e=this.cameras.main.height;const i=this.make.text({x:t/2-200,y:e/2-100,text:"Loading",style:{font:"6.0em Splunk",color:"#FF0F7B"}});this.load.on("progress",t=>{const e=Math.floor(100*t);i.setText(String("Loading "+e+"%")),null!==i&&"Loading 100%"===i.text&&this.time.delayedCall(500,()=>i.destroy())})})}}function v(t,e){return i=this,s=void 0,r=function*(){if(e.hasOwnProperty("image"))for(let i in e.image){let s=Object.keys(e.image[i]).find(t=>t);for(let n in e.image[i]){let r=e.image[i][n];t.load.image(s,r)}}if(e.hasOwnProperty("audio"))for(let i in e.audio){let s=Object.keys(e.audio[i]).find(t=>t);for(let n in e.audio[i]){let r=e.audio[i][n];t.load.audio(s,r)}}if(e.hasOwnProperty("obj"))for(let i in e.obj){let s=Object.keys(e.obj[i]).find(t=>t);for(let n in e.obj[i]){let r=e.obj[i][n][0],o=e.obj[i][n][1];t.load.obj(s,r,o)}}if(e.hasOwnProperty("atlas"))for(let i in e.atlas){let s=Object.keys(e.atlas[i]).find(t=>t);for(let n in e.atlas[i]){let r=e.atlas[i][n][0],o=e.atlas[i][n][1];t.load.atlas(s,r,o)}}if(e.hasOwnProperty("spritesheet"))for(let i in e.spritesheet){let s=Object.keys(e.spritesheet[i]).find(t=>t);for(let n in e.spritesheet[i]){let r=e.spritesheet[i][n][0],o=e.spritesheet[i][n][1];t.load.spritesheet(s,r,{frameWidth:o.frameWidth,frameHeight:o.frameHeight})}}if(e.hasOwnProperty("tilemapTiledJSON"))for(let i in e.tilemapTiledJSON){let s=Object.keys(e.tilemapTiledJSON[i]).find(t=>t);for(let n in e.tilemapTiledJSON[i]){let r=e.tilemapTiledJSON[i][n];t.load.tilemapTiledJSON(s,r)}}if(t.third)for(let i in e.assets){let s=Object.keys(e.assets[i]).find(t=>t);for(let n in e.assets[i]){let r=e.assets[i][n];t.third.load.preload(s,r)}}return e},new((n=void 0)||(n=Promise))(function(t,e){function o(t){try{h(r.next(t))}catch(t){e(t)}}function a(t){try{h(r.throw(t))}catch(t){e(t)}}function h(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n(function(t){t(i)})).then(o,a)}h((r=r.apply(i,s||[])).next())});var i,s,n,r}class g extends Phaser.Scene{constructor(){super("Intro")}preload(){this.load.video("intro video","assets/SplunkGamified_1st_PART_Without_BUTTON_compressed4.mp4")}create(t){return e=this,i=void 0,n=function*(){this.data=t,this.cameras.main.fadeIn(3e3),this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"ticketblaster splash"),this.playBtn=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"play button"),this.time.delayedCall(1200,()=>{this.playBtn.setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.playBtn.setAlpha(.75)).on("pointerout",()=>this.playBtn.setAlpha(1)).on("pointerdown",()=>this.startGame())})},new((s=void 0)||(s=Promise))(function(t,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n.throw(t))}catch(t){r(t)}}function h(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s(function(t){t(i)})).then(o,a)}h((n=n.apply(e,i||[])).next())});var e,i,s,n}startGame(){this.playBtn.destroy(),this.intro=this.add.video(this.cameras.main.width/2,this.cameras.main.height/2,"intro video"),this.intro.video&&(this.intro.video.volume=s.Process.app.audio.base_volume),this.playBtn2=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"splunk can").setVisible(!1).setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.playBtn2.setAlpha(.75)).on("pointerout",()=>this.playBtn2.setAlpha(1)).on("pointerdown",()=>this.GoToIntro()),this.skipBtn=this.add.sprite(this.cameras.main.width/2+870,this.cameras.main.height/2+500,"skip button").setVisible(!1).setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.skipBtn.setAlpha(.75)).on("pointerout",()=>this.skipBtn.setAlpha(1)).on("pointerdown",()=>this.GoToIntro()),this.time.delayedCall(3e3,()=>this.skipBtn.setVisible(!0)),this.intro.play()}GoToIntro(){this.scene.run("Dashboard",this.data),this.scene.stop("Intro")}update(){this.intro&&!this.intro.isPaused()&&this.intro.getCurrentTime()>=this.intro.getDuration()&&(this.intro.pause(),this.playBtn2.setVisible(!0),this.skipBtn.setVisible(!1))}}var w=function(t,e,i,s){return new(i||(i=Promise))(function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((s=s.apply(t,e||[])).next())})};class _ extends Phaser.Scene{constructor(){super("Dashboard")}preload(){this.load.video("popup video","assets/Popup_Window_BUY_NOW_v4.mp4")}create(t){return w(this,void 0,void 0,function*(){this.data=t,s.Process.app.audio.music.fadeIn(this,"dashboard music"),this.background=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"dashboard home"),this.backBtn=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"dashboard back").setAlpha(.001).setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.backBtn.setTexture("dashboard back clicked")).on("pointerout",()=>this.backBtn.setTexture("dashboard back")).on("pointerdown",()=>this.setDashboard("dashboard home")),this.apmBtn=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"apm button dashboard").setAlpha(.001).on("pointerover",()=>this.apmBtn.setAlpha(1)).on("pointerout",()=>this.apmBtn.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard flow chart")),this.rumBtn=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"rum button dashboard").setAlpha(.001).on("pointerover",()=>this.rumBtn.setAlpha(1)).on("pointerout",()=>this.rumBtn.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard real user monitoring")),this.infrastructureBtn=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"infrastructure button dashboard").setAlpha(.001).on("pointerover",()=>this.infrastructureBtn.setAlpha(1)).on("pointerout",()=>this.infrastructureBtn.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard infrastructure")),this.syntheticsBtn=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"synthetics button dashboard").setInteractive({pixelPerfect:!0}).on("pointerover",()=>!this.synthTween.isPlaying()&&this.syntheticsBtn.setAlpha(1)).on("pointerout",()=>!this.synthTween.isPlaying()&&this.syntheticsBtn.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard synthetics")),this.apmSelect=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"apm select dashboard").setAlpha(.001).on("pointerover",()=>this.apmSelect.setAlpha(1)).on("pointerout",()=>this.apmSelect.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard flow chart")),this.rumSelect=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"rum select dashboard").setAlpha(.001).on("pointerover",()=>this.rumSelect.setAlpha(1)).on("pointerout",()=>this.rumSelect.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard real user monitoring")),this.infrastructureSelect=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"infrastructure select dashboard").setAlpha(.001).on("pointerover",()=>this.infrastructureSelect.setAlpha(1)).on("pointerout",()=>this.infrastructureSelect.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard infrastructure")),this.syntheticsSelect=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"synthetics select dashboard").setAlpha(.001).setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.syntheticsSelect.setAlpha(1)).on("pointerout",()=>this.syntheticsSelect.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard synthetics")),this.runResults=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"individual run results").setVisible(!1),this.runResultsHitbox=this.add.rectangle(this.cameras.main.width/2+70,this.cameras.main.height/2+310,1600,320).on("pointerdown",()=>w(this,void 0,void 0,function*(){yield this.setPopUp(!0,"We can see that synthetics tests are failing across all locations! This seems to be a system-wide issue, but we won't be able to fully understand why this issue is happening using only Synthetics Monitoring.",!0),this.syntheticsError.setVisible(!0).setInteractive({pixelPerfect:!0}),this.synthTween2.play(),this.runResultsTween.pause(),this.runResults.setVisible(!1),this.runResultsHitbox.disableInteractive()})),this.popupVIP=this.add.video(this.cameras.main.width/2,this.cameras.main.height/2-120,"popup video").setVisible(!1).pause(),this.popupVIP.video&&(this.popupVIP.video.volume=s.Process.app.audio.base_volume),this.replayVIPVideo=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"real user monitoring replay video").setVisible(!1).setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.replayVIPVideo.setAlpha(.75)).on("pointerout",()=>this.replayVIPVideo.setAlpha(1)).on("pointerdown",()=>w(this,void 0,void 0,function*(){yield this.setPopUp(!0,"To determine WHY users are having this issue, we need to take a look at another tool.",!0),this.popupVIP.play(),s.Process.app.audio.play(this,"screen grab sfx")})),this.flowChartProfiling=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"flow chart profiling").setVisible(!1).setAlpha(.001).on("pointerover",()=>this.flowChartProfiling.setAlpha(1)).on("pointerout",()=>this.flowChartProfiling.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard profiling")),this.flowChartTagSpotlight=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"flow chart tag spotlight").setVisible(!1).setAlpha(.001).on("pointerover",()=>this.flowChartTagSpotlight.setAlpha(1)).on("pointerout",()=>this.flowChartTagSpotlight.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard tag spotlight")),this.flowChartTraces=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"flow chart traces button").setVisible(!1).setAlpha(.001).on("pointerover",()=>this.flowChartTraces.setAlpha(1)).on("pointerout",()=>this.flowChartTraces.setAlpha(.001)).on("pointerdown",()=>this.setDashboard("dashboard traces")),this.syntheticsError=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"synthetics error").setVisible(!1).on("pointerdown",()=>{this.setPopUp(!0,"Let's go into RUM to verify what end users are experiencing."),this.rumBtn.setInteractive({pixelPerfect:!0}),this.rumSelect.setInteractive({pixelPerfect:!0})}),this.tracesError=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"traces error").setVisible(!1),this.tracesErrorHitbox=this.add.rectangle(this.cameras.main.width/2+30,this.cameras.main.height/2+160,1450,40).on("pointerdown",()=>this.setDashboard("dashboard waterfall")),this.waterfallError=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"waterfall error").setTint(16715643).setVisible(!1),this.waterfallErrorHitbox=this.add.rectangle(this.cameras.main.width/2-470,this.cameras.main.height/2-180,330,50).on("pointerdown",()=>{this.setDashboard("dashboard flow chart"),this.setPopUp(!0,"We need to see more about why the order processing service was running for so long. Let's go back to APM and open up the ALWAYS ON CODE PROFILER.")}),this.orderProcessing=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"order processing service").setVisible(!1).setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.orderProcessing.setTint(16715643)).on("pointerout",()=>this.orderProcessing.clearTint()).on("pointerdown",()=>w(this,void 0,void 0,function*(){yield this.setPopUp(!0,"The red order-processing-service means it has a high error rate. Let's investigate using the options on the right.",!0),this.flowChartProfiling.setInteractive({pixelPerfect:!0}),this.flowChartTagSpotlight.setInteractive({pixelPerfect:!0}),this.flowChartTraces.setInteractive({pixelPerfect:!0})})),this.codeHitbox=this.add.rectangle(this.cameras.main.width/2-470,this.cameras.main.height/2-200,420,50).on("pointerdown",()=>w(this,void 0,void 0,function*(){yield this.setPopUp(!0,"Let's take a look at that function in the file!",!0),this.setDashboard("dashboard code page"),this.synthTween.stop(),this.rumBtn.setAlpha(.001);const t=this.make.graphics();t.fillRect(150,140,this.cameras.main.width,this.cameras.main.height-200),this.mask=new Phaser.Display.Masks.GeometryMask(this,t),this.text1=this.add.text(-20,140,'\n                import time\n                import os\n                import uuid\n                import requests\n\n\n                NFT_SERVICE_BASE_URL = "https://domain.that.will.not.resolve.example.com/v1"\n                CONCIERGE_SERVICE_BASE_URL = "https://api.another-fake-vip-concierge.example.org/v1"\n\n                # Timeouts\n                TIMEOUT_SECONDS = 30 \n\n                def _process_order_details(order_details):\n                    pid = os.getpid()\n                    ticket_id = order_details.get("ticket_id")\n                    user_id = order_details.get("user_id")\n                    is_vip_order = False\n\n                    if order_details.get("ticket_tier_selected_on_frontend") == "VIP Tier":\n                        order_details["ticket_tier_processed_as"] = "VIP Tier"\n                        is_vip_order = True\n                    else:\n                        order_details["ticket_tier_processed_as"] = order_details.get("ticket_tier_selected_on_frontend", "Standard")\n\n                    if is_vip_order:\n                        print(f"[PID:{pid}] INFO: VIP Tier detected. Initiating special VIP processing for {ticket_id}.")\n\n                        print(f"[PID:{pid}] INFO: Contacting Third-Party Concierge Service to assign VIP liaison for order {ticket_id}...")\n                        concierge_payload = {"userId": user_id, "orderId": order_details.get("order_id"), "serviceLevel": "PLATINUM_VIP"}\n                        concierge_url = f"{CONCIERGE_SERVICE_BASE_URL}/assign-liaison"\n            ',{fontFamily:"monospace",fontSize:"2.5em",color:"#ffffff"}).setOrigin(0),this.text2=this.add.text(-20,770,"\n\n                        response_concierge = requests.post(\n                            concierge_url,\n                            json=concierge_payload,\n                            timeout=TIMEOUT_SECONDS \n                        )\n            ",{fontFamily:"monospace",fontSize:"2.5em",color:"#ffffff"}).setOrigin(0).setInteractive(),this.text3=this.add.text(-20,920,'\n                        liaison_data = response_concierge.json() if response_concierge and response_concierge.ok else {}\n                        order_details["vip_liaison_assigned"] = liaison_data.get("liaisonId", f"concierge-{uuid.uuid4().hex[:6]}")\n                        order_details["handling_priority"] = "URGENT_VIP_CONCIERGE_ATTEMPTED"\n                        \n                        nft_request_id = f"NFT_REQ_{uuid.uuid4().hex[:8].upper()}"\n                        order_details["nft_request_id_attempted"] = nft_request_id\n                        \n                        mint_request_payload = {"userId": user_id, "ticketId": ticket_id, "requestedNftId": nft_request_id}\n                        mint_request_url = f"{NFT_SERVICE_BASE_URL}/mint/request"\n\n                        print(f"[PID:{pid}] INFO: Sending POST to \'{mint_request_url}\' to request NFT (ID: {nft_request_id}). Expecting ConnectionError...")\n\n                        response_nft = requests.post(\n                            mint_request_url,\n                            json=mint_request_payload,\n                            timeout=TIMEOUT_SECONDS \n                        )\n\n                        order_details["nft_mint_initiation_status"] = f"attempted_http_{response_nft.status_code if response_nft else \'N/A\'}"\n                        order_details["nft_token_id"] = response_nft.json().get("nftId", f"NFT_UNEXPECTED_{uuid.uuid4().hex[:6]}")\n                    else:\n                        print(f"[PID:{pid}] INFO: Standard processing for {ticket_id} (non-VIP). No NFT minting.")\n                        order_details["vip_processing_status"] = "not_applicable_non_vip"\n                    \n                    return {"status": "processed", "message": "Order details processed.", "order_details": order_details}\n            ',{fontFamily:"monospace",fontSize:"2.5em",color:"#ffffff"}).setOrigin(0),this.codeTween=this.tweens.add({targets:this.text2,alpha:.25,duration:250,ease:"Sine.easeOut",repeat:-1,yoyo:!0}),this.isTween=!0,this.text1.setMask(this.mask),this.text2.setMask(this.mask),this.text3.setMask(this.mask);const e=this.add.zone(120,130,this.cameras.main.width,this.cameras.main.height).setOrigin(0).setInteractive();this.text2.setDepth(e.depth+1),this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"scroll bar base"),this.scrollButton=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"scroll bar button"),e.on("pointermove",t=>{t.isDown&&this.scrollCode(t.velocity.y/10)}),this.input.on("wheel",(t,e,i,s,n)=>this.scrollCode(-s,s)),this.add.zone(this.cameras.main.width/2,this.cameras.main.height/2,this.cameras.main.width,this.cameras.main.height).setOrigin(0).setInteractive().on("pointermove",t=>{t.isDown&&this.scrollCode(t.velocity.y/10)})})),this.synthTween=this.tweens.add({targets:this.syntheticsBtn,alpha:0,duration:250,ease:"Sine.easeOut",repeat:-1,yoyo:!0}),this.synthTween2=this.tweens.add({targets:this.syntheticsError,alpha:0,duration:250,ease:"Sine.easeOut",repeat:-1,yoyo:!0}).pause(),this.tracesTween=this.tweens.add({targets:this.tracesError,alpha:0,duration:250,ease:"Sine.easeOut",repeat:-1,yoyo:!0}).pause(),this.waterfallTween=this.tweens.add({targets:this.waterfallError,alpha:0,duration:250,ease:"Sine.easeOut",repeat:-1,yoyo:!0}),this.runResultsTween=this.tweens.add({targets:this.runResults,alpha:0,duration:250,ease:"Sine.easeOut",repeat:-1,yoyo:!0}).pause(),this.orderProcessingTween=this.tweens.add({targets:this.orderProcessing,alpha:0,duration:250,ease:"Sine.easeOut",repeat:-1,yoyo:!0}).pause(),this.popupTextBox=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"popup text box").setVisible(!1).on("pointerover",()=>this.popupTextBox.setTexture("popup text box purple")).on("pointerout",()=>this.popupTextBox.setTexture("popup text box")).on("pointerdown",()=>this.setPopUp(!1)),this.popupText=this.add.text(this.cameras.main.width/2-350,this.cameras.main.height/2-220,"",{fontFamily:"Splunk, sans-serif",fontSize:"3.0em",color:"#ffffff",lineSpacing:10,wordWrap:{width:this.popupTextBox.width/2.8}}).setOrigin(0).setVisible(!1)})}update(){this.text2&&this.text2.on("pointerover",()=>{this.isTween&&(this.text2.y>0&&this.text2.y<=880?(this.text2.setTint(16715643),this.text2.clearMask()):(this.text2.setTint(268435455),this.text2.setMask(this.mask)))}).on("pointerout",()=>{this.isTween&&(this.text2.setTint(268435455),this.text2.setMask(this.mask))}).on("pointerdown",()=>{if(this.text2.y>0&&this.text2.y<=880&&this.isTween){this.isTween=!1,this.codeTween.stop().destroy(),this.text2.setAlpha(1).clearTint(),this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"empty box").setDepth(this.text2.depth+1),this.add.text(this.cameras.main.width/2-225,this.cameras.main.height/2-100,"Time for due dilligence!",{fontFamily:"Splunk, sans-serif",fontSize:"4.5em",color:"#ffffff"}).setDepth(this.text2.depth+1);const t=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2+100,"open splack").setDepth(this.text2.depth+1).setInteractive({pixelPerfect:!0}).on("pointerover",()=>t.setAlpha(.75)).on("pointerout",()=>t.setAlpha(1)).on("pointerdown",()=>{this.scene.start("StackHunt",this.data),this.scene.stop("DashBoard")})}})}setPopUp(t,e="",i,n="3.0em"){return w(this,void 0,void 0,function*(){return new Promise(r=>{i||r(),s.Process.app.audio.play(this,"popup window sfx"),this.popupText.setVisible(t).setText(e).setFontSize(n),this.popupTextBox.setVisible(t).setInteractive({pixelPerfect:!0}).on("pointerdown",()=>r())})})}setDashboard(t){return w(this,void 0,void 0,function*(){switch(this.setPopUp(!1),this.background.setTexture(t),this.backBtn.setVisible(!1),this.apmBtn.setVisible(!1),this.rumBtn.setVisible(!1),this.infrastructureBtn.setVisible(!1),this.syntheticsBtn.setVisible(!1),this.rumSelect.setVisible(!1),this.apmSelect.setVisible(!1),this.infrastructureSelect.setVisible(!1),this.syntheticsSelect.setVisible(!1),this.syntheticsError.setVisible(!1),this.flowChartTraces.setVisible(!1),this.flowChartTagSpotlight.setVisible(!1),this.flowChartProfiling.setVisible(!1),this.tracesError.setVisible(!1),this.tracesErrorHitbox.disableInteractive(),this.waterfallError.setVisible(!1),this.waterfallErrorHitbox.disableInteractive(),this.popupVIP.setVisible(!1),this.replayVIPVideo.setVisible(!1),this.runResults.setVisible(!1),this.runResultsHitbox.disableInteractive(),this.popupTextBox.disableInteractive(),this.codeHitbox.disableInteractive(),this.orderProcessing.setVisible(!1),this.synthTween2.pause(),this.synthTween.pause(),this.orderProcessingTween.pause(),this.popupVIP.stop(),s.Process.app.audio.stop(this,"screen grab sfx"),s.Process.app.audio.play(this,"button click sfx"),t){case"dashboard home":this.apmSelect.setVisible(!0),this.rumSelect.setVisible(!0),this.infrastructureSelect.setVisible(!0),this.syntheticsSelect.setVisible(!0);break;case"dashboard flow chart":this.flowChartTraces.setVisible(!0),this.flowChartTagSpotlight.setVisible(!0),this.flowChartProfiling.setVisible(!0),this.orderProcessing.setVisible(!0),this.orderProcessingTween.play(),this.setPopUp(!0,"The service map in APM gives us a visualization of our services and how data flows between them! It can help us pinpoint which microservices are encountering errors.");break;case"dashboard real user monitoring":this.popupVIP.setVisible(!0).getFirstFrame(),this.replayVIPVideo.setVisible(!0),yield this.setPopUp(!0,"Real User Monitoring allows us to verify the actual user experience viewing a replay of the user session.",!0),this.apmBtn.setInteractive({pixelPerfect:!0}),this.apmSelect.setInteractive({pixelPerfect:!0}),this.infrastructureBtn.setInteractive({pixelPerfect:!0}),this.infrastructureSelect.setInteractive({pixelPerfect:!0});break;case"dashboard infrastructure":yield this.setPopUp(!0,"The heatmap in the Kubernetes Navigator shows us that none of our k8s infrastructure is colored red (unhealthy) and doesn't seem to be the source of our issue.",!0);break;case"dashboard synthetics":this.runResults.setVisible(!0),this.runResultsTween.play(),this.runResultsHitbox.setInteractive(),this.syntheticsBtn.setAlpha(.001),this.synthTween.stop().destroy();break;case"dashboard tag spotlight":yield this.setPopUp(!0,"Tag Spotlight lets us view service performance broken down by your indexed span tags. This helps us easily identify patterns that are contributing to error rates.",!0),yield this.setPopUp(!0,"Error rates seem to be the same across all the tags, so there doesn't seem to be any meaningful differences across groups of users.",!0),this.waterfallErrorHitbox.setInteractive(),this.backBtn.setAlpha(1).setVisible(!0);break;case"dashboard waterfall":this.waterfallError.setVisible(!0),this.waterfallTween.play(),this.time.delayedCall(2e3,()=>w(this,void 0,void 0,function*(){yield this.setPopUp(!0,"The trace waterfall shows every span and its duration for the transaction. This is very helpful to see which spans are taking the largest amount of time. We'll still need to dive deeper into the span to identify why it's taking so long, though.",!0),this.waterfallErrorHitbox.setInteractive()}));break;case"dashboard traces":this.tracesError.setVisible(!0),this.tracesTween.play(),yield this.setPopUp(!0,"Now that we can see which microservice is encountering errors, let's that a look at traces for that microservice. Traces will show us the journey a request took in our service and provide important details about the error.",!0),this.tracesErrorHitbox.setInteractive();break;case"dashboard profiling":yield this.setPopUp(!0,"Now that we know which span has the longest duration, we can utilize the code profiler to identify exactly which lines of code are the culprit!",!0),yield this.setPopUp(!0,"We can sort the Stack Frames table on the left to find out what stack frames are spending the largest amount on the CPU. The flame graph on the right provides a visualization that aggregates CPU time of each Stack Frame across all Stack Traces.",!0),yield this.setPopUp(!0,"After sorting the Stack Frame table on the left by CPU time consumed, we can see the exact function consuming CPU time, as well the line of code and the file the function is located.",!0),this.codeHitbox.setInteractive();break;default:return}this.apmBtn.setVisible(!0),this.rumBtn.setVisible(!0),this.infrastructureBtn.setVisible(!0),this.syntheticsBtn.setVisible(!0)})}scrollCode(t,e){const i=e||t;this.text1.y+=t,this.text1.y=Phaser.Math.Clamp(this.text1.y,-350,140),this.text2.y+=t,this.text2.y=Phaser.Math.Clamp(this.text2.y,280,770),this.text3.y+=t,this.text3.y=Phaser.Math.Clamp(this.text3.y,430,920),this.scrollButton.y+=i,this.scrollButton.y=Phaser.Math.Clamp(this.scrollButton.y,530,1400)}}var x=function(t,e,i,s){return new(i||(i=Promise))(function(n,r){function o(t){try{h(s.next(t))}catch(t){r(t)}}function a(t){try{h(s.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((s=s.apply(t,e||[])).next())})};class k extends Phaser.Scene{constructor(){super("StackHunt")}preload(){this.load.video("stack hunt video intro","assets/SplunkGamified_Splack_v5_COMPRESSED.mp4"),this.load.video("stack hunt video play","assets/SplunkGamified_StackHunt_COMPRESSED.mp4"),this.load.video("stack hunt concert video","assets/concert_front_sample.mp4"),this.load.video("stack hunt blow kiss video","assets/Blow_kiss_AE.mp4")}create(t){this.data=t,s.Process.app.audio.music.fadeIn(this,"stack hunt music"),this.intro=this.add.video(this.cameras.main.width/2,this.cameras.main.height/2,"stack hunt video intro"),this.playVid=this.add.video(this.cameras.main.width/2,this.cameras.main.height/2,"stack hunt video play").setVisible(!1),this.concertVid=this.add.video(this.cameras.main.width/2,this.cameras.main.height/2,"stack hunt concert video").setVisible(!1),this.winVid=this.add.video(this.cameras.main.width/2,this.cameras.main.height/2,"stack hunt blow kiss video").setVisible(!1),this.intro.video&&(this.intro.video.volume=s.Process.app.audio.base_volume),this.playVid.video&&(this.playVid.video.volume=s.Process.app.audio.base_volume),this.concertVid.video&&(this.concertVid.video.volume=s.Process.app.audio.base_volume),this.winVid.video&&(this.winVid.video.volume=s.Process.app.audio.base_volume),this.heart1=this.add.sprite(this.cameras.main.width/2+500,this.cameras.main.height/2+400,"heart").setScale(.25).setVisible(!1),this.heart2=this.add.sprite(this.cameras.main.width/2+580,this.cameras.main.height/2+400,"heart").setScale(.25).setVisible(!1),this.heart3=this.add.sprite(this.cameras.main.width/2+660,this.cameras.main.height/2+400,"heart").setScale(.25).setVisible(!1),this.boo1=this.add.sprite(this.x1,this.y1,"boo").setVisible(!1),this.boo2=this.add.sprite(this.x2,this.y2,"boo").setVisible(!1),this.boo3=this.add.sprite(this.x3,this.y3,"boo").setVisible(!1).on(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.boo1.setVisible(!1),this.boo2.setVisible(!1),this.boo3.setVisible(!1)},this),this.concertGirlCelebrating=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2-70,"concert girl celebrating").setVisible(!1).on(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>this.concertGirlCelebrating.setVisible(!1),this),this.concertGirlWorried=this.add.sprite(this.cameras.main.width/2-100,this.cameras.main.height/2+30,"concert girl worried").setVisible(!1).on(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.concertGirlWorried.setVisible(!1),this.speechBubble.setVisible(!1),this.speechBubbleContent.setVisible(!1)},this),this.concertFront=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"concert front").setVisible(!1),this.skipBtn=this.add.sprite(this.cameras.main.width/2+870,this.cameras.main.height/2+500,"skip button").setVisible(!1).setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.skipBtn.setAlpha(.75)).on("pointerout",()=>this.skipBtn.setAlpha(1)).on("pointerdown",()=>this.play()),this.playBtn2=this.add.sprite(this.cameras.main.width/2+600,this.cameras.main.height/2+490,"play stack hunt button").setVisible(!1).setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.playBtn2.setAlpha(.75)).on("pointerout",()=>this.playBtn2.setAlpha(1)).on("pointerdown",()=>this.play(!0)),this.playBtn=this.add.sprite(this.cameras.main.width/2+450,this.cameras.main.height/2+300,"play button").setVisible(!1).setInteractive({pixelPerfect:!0}).on("pointerover",()=>this.playBtn.setAlpha(.75)).on("pointerout",()=>this.playBtn.setAlpha(1)).on("pointerdown",()=>this.startGame()),this.codeYes=this.add.text(0,0,"",{fontFamily:"monospace",fontSize:"2.3em",color:"#FF0F7B"}).setVisible(!1).setInteractive().on("pointerover",()=>this.codeYes.setTintFill(9909243)).on("pointerout",()=>this.codeYes.clearTint()).on("pointerdown",()=>{this.codeYes.setData("fall",!0),this.codeYes.setData("rotation",1===Phaser.Math.Between(1,2)?-.25:.25),this.checkCode(!0)}),this.codeNo1=this.add.text(0,0,"",{fontFamily:"monospace",fontSize:"2.3em",color:"#FF0F7B"}).setVisible(!1).setInteractive().on("pointerover",()=>this.codeNo1.setTintFill(9909243)).on("pointerout",()=>this.codeNo1.clearTint()).on("pointerdown",()=>this.checkCode(!1)),this.codeNo2=this.add.text(0,0,"",{fontFamily:"monospace",fontSize:"2.3em",color:"#FF0F7B"}).setVisible(!1).setInteractive().on("pointerover",()=>this.codeNo2.setTintFill(9909243)).on("pointerout",()=>this.codeNo2.clearTint()).on("pointerdown",()=>this.checkCode(!1)),this.codeNo3=this.add.text(0,0,"",{fontFamily:"monospace",fontSize:"2.3em",color:"#FF0F7B"}).setVisible(!1).setInteractive().on("pointerover",()=>this.codeNo3.setTintFill(9909243)).on("pointerout",()=>this.codeNo3.clearTint()).on("pointerdown",()=>this.checkCode(!1));const e=300,i=300;this.speechBubble=this.add.graphics({x:this.concertGirlWorried.x+100,y:50}).setVisible(!1),this.speechBubbleContent=this.add.text(0,0,"Noo! Now everyone is even MORE angry!!",{fontFamily:"Arial",fontSize:20,color:"#000000",align:"center",wordWrap:{width:280}}).setVisible(!1),this.speechBubble.fillStyle(2236962,.5),this.speechBubble.fillRoundedRect(6,6,e,i,16),this.speechBubble.fillStyle(16777215,1),this.speechBubble.lineStyle(4,5658198,1),this.speechBubble.strokeRoundedRect(0,0,e,i,16),this.speechBubble.fillRoundedRect(0,0,e,i,16);const n=Math.floor(e/7),r=Math.floor(e/7*2),o=Math.floor(e/7),a=Math.floor(375);this.speechBubble.lineStyle(4,2236962,.5),this.speechBubble.lineBetween(r-1,306,o+2,a),this.speechBubble.fillTriangle(n,300,r,300,o,a),this.speechBubble.lineStyle(2,5658198,1),this.speechBubble.lineBetween(r,300,o,a),this.speechBubble.lineBetween(n,300,o,a);const h=this.speechBubbleContent.getBounds();this.speechBubbleContent.setPosition(this.speechBubble.x+150-h.width/2,this.speechBubble.y+150-h.height/2),this.cursor=this.add.sprite(0,0,"target").setScale(.6).play("target anim").setVisible(!1),this.shoot=this.add.sprite(0,0,"shoot").setVisible(!1),this.intro.play(),this.time.delayedCall(3e3,()=>{this.skipBtn.setVisible(!0),this.playBtn2.setVisible(!0)})}update(){this.intro&&this.intro.getCurrentTime()>=this.intro.getDuration()&&this.playVid&&!this.playVid.visible&&this.play(),this.cursor.setPosition(this.input.activePointer.x,this.input.activePointer.y),this.shoot.setPosition(this.input.activePointer.x,this.input.activePointer.y).on(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.shoot.setVisible(!1),this.canShoot=!0},this),this.codeYes&&this.codeYes.getData("fall")?(this.codeTween.paused=!0,this.codeTween.destroy(),this.codeYes.y+=Phaser.Math.Between(10,20),this.codeYes.rotation=this.codeYes.getData("rotation")):this.codeYes.rotation=0}play(t){this.intro.pause().destroy(),this.skipBtn.destroy(),this.playBtn2.destroy(),t?this.startGame():(this.playVid.setVisible(!0).play(),this.time.delayedCall(2e3,()=>this.playBtn.setVisible(!0)))}startGame(){return x(this,void 0,void 0,function*(){this.codeUpdate(),this.clickIterator=0,this.currentRound=1,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0,this.x4=0,this.y4=0,this.playVid.destroy(),this.playBtn.destroy(),this.concertVid.setVisible(!0).play(!0),this.concertFront.setVisible(!0);const t=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height/2,"popup text box").on("pointerover",()=>t.setTexture("popup text box purple")).on("pointerout",()=>t.setTexture("popup text box")).on("pointerdown",()=>i()),e=this.add.text(this.cameras.main.width/2-350,this.cameras.main.height/2-220,"Use the power of music to eliminate the problematic stack lines. Start with the file and then keep going to delete the whole function.",{fontFamily:"Splunk, sans-serif",fontSize:"3.0em",color:"#ffffff",lineSpacing:10,wordWrap:{width:t.width/2.8}}).setOrigin(0),i=()=>x(this,void 0,void 0,function*(){return new Promise(i=>t.setInteractive({pixelPerfect:!0}).on("pointerdown",()=>{e.destroy(),t.destroy(),i()}))});yield i(),document.body.style.cursor="none",this.cursor.setVisible(!0),this.time.delayedCall(500,()=>this.canShoot=!0),this.input.on("pointerdown",()=>{this.canShoot&&(this.canShoot=!1,this.shoot.play("shoot anim").setVisible(!0),s.Process.app.audio.play(this,"blast sfx"))})})}codeUpdate(){this.tweens.getTweens().forEach(t=>t.destroy());let t="",e="",i="",s="";switch(Phaser.Math.Between(0,2)){case 0:default:this.x1=200,this.y1=400,this.x2=300,this.y2=550,this.x3=200,this.y3=50,this.x4=150,this.y4=250;break;case 1:this.x1=300,this.y1=50,this.x2=100,this.y2=250,this.x3=200,this.y3=400,this.x4=300,this.y4=550;break;case 2:this.x1=300,this.y1=550,this.x2=200,this.y2=400,this.x3=300,this.y3=250,this.x4=100,this.y4=50}switch(this.currentRound){case 1:default:t='nft_request_id = f"NFT_REQ_{uuid.uuid4().hex[:8].upper()}"\norder_details["nft_request_id_attempted"] = nft_request_id\nmint_request_payload = {"userId": user_id, "ticketId": ticket_id, "requestedNftId": nft_request_id}\nmint_request_url = f"{NFT_SERVICE_BASE_URL}/mint/request"',e='print(f"[PID:{pid}] INFO: Begin processing order for {user_id}, ticket {ticket_id}.")',i='order_details.get("order_id"), "serviceLevel": "PLATINUM_VIP"}',s='concierge_url = f"{MOCK_CONCIERGE_SERVICE_BASE_URL}/assign-liaison\nliaison_data = response_concierge.json() if response_concierge and response_concierge.ok else {}';break;case 2:this.heart1.setVisible(!0),t="print(f\"[PID:{pid}] INFO: Sending POST to '{mint_request_url}' to request NFT (ID: {nft_request_id}). Expecting ConnectionError...\")\n\nresponse_nft = requests.post(\n\tmint_request_url,\n\tjson=mint_request_payload,\n\ttimeout=TIMEOUT_SECONDS\n)",e="liaison_data = response_concierge.json() if response_concierge and response_concierge.ok else {}",i='nft_request_id = f"NFT_REQ_{uuid.uuid4().hex[:8].upper()}"\norder_details["nft_request_id_attempted"] = nft_request_id',s="# response_concierge.raise_for_status() # Removed as no local try/except";break;case 3:this.heart1.setVisible(!0),this.heart2.setVisible(!0),t='order_details["nft_mint_initiation_status"] = f"attempted_http_{response_nft.status_code if response_nft else \'N/A\'}"\norder_details["nft_token_id"] = response_nft.json().get("nftId", f"NFT_UNEXPECTED_{uuid.uuid4().hex[:6]}")',e="print(f\"[PID:{pid}] INFO: NFT minting service '{mint_request_url}' *supposedly* responded (HTTP {response_nft.status_code if response_nft else 'N/A'}).\")",i='print(f"[PID:{pid}] INFO: Order processing for order_id: {order_id} concluded successfully on backend.")',s='if order_details.get("ticket_tier_selected_on_frontend") == "VIP Tier":\n\torder_details["ticket_tier_processed_as"] = "VIP Tier"'}this.codeYes.setText(t).setPosition(this.x1,this.y1).setVisible(!0).setData("fall",!1),this.codeNo1.setText(e).setPosition(this.x2,this.y2).setVisible(!0),this.codeNo2.setText(i).setPosition(this.x3,this.y3).setVisible(!0),this.codeNo3.setText(s).setPosition(this.x4,this.y4).setVisible(!0),this.codeTween=this.tweens.add({targets:this.codeYes,x:this.codeYes.x+Phaser.Math.Between(50,100),duration:Phaser.Math.Between(500,2e3),ease:"Sine.easeOut",repeat:-1,yoyo:!0}),this.tweens.add({targets:this.codeNo1,x:this.codeNo1.x+Phaser.Math.Between(50,100),duration:Phaser.Math.Between(500,2e3),ease:"Sine.easeOut",repeat:-1,yoyo:!0}),this.tweens.add({targets:this.codeNo2,x:this.codeNo2.x+Phaser.Math.Between(50,100),duration:Phaser.Math.Between(500,2e3),ease:"Sine.easeOut",repeat:-1,yoyo:!0}),this.tweens.add({targets:this.codeNo3,x:this.codeNo3.x+Phaser.Math.Between(50,100),duration:Phaser.Math.Between(500,2e3),ease:"Sine.easeOut",repeat:-1,yoyo:!0})}checkCode(t){if(this.canShoot)if(t)this.cameras.main.shake(),this.currentRound++,this.concertGirlWorried.setVisible(!1),this.speechBubble.setVisible(!1),this.speechBubbleContent.setVisible(!1),this.boo1.setVisible(!1),this.boo2.setVisible(!1),this.boo3.setVisible(!1),this.codeNo1.setVisible(!1),this.codeNo2.setVisible(!1),this.codeNo3.setVisible(!1),s.Process.app.audio.play(this,"heart popup sfx"),this.time.delayedCall(250,()=>{s.Process.app.audio.play(this,"crowd cheering sfx"),this.concertGirlCelebrating.setVisible(!0).play("concert girl celebrating anim"),s.Process.app.audio.play(this,"apple happy sfx")}),this.time.delayedCall(2e3,()=>{this.currentRound>3?(this.canShoot=!1,this.heart1.setVisible(!0),this.heart2.setVisible(!0),this.heart3.setVisible(!0),this.cursor.setVisible(!1),this.shoot.setVisible(!1),this.time.delayedCall(3e3,()=>{document.body.style.cursor="default",this.currentRound=1,this.winVid.setVisible(!0).play(),this.concertGirlCelebrating.setVisible(!1),this.concertGirlWorried.setVisible(!1),this.concertFront.setVisible(!1),this.heart1.setVisible(!1),this.heart2.setVisible(!1),this.heart3.setVisible(!1),this.sound.stopByKey("stack hunt music"),s.Process.app.audio.play(this,"outro music")})):this.codeUpdate()});else{switch(this.clickIterator>2&&(this.clickIterator=0),this.clickIterator){case 0:default:this.x1=300,this.y1=100,this.x2=1200,this.y2=200,this.x3=600,this.y3=300;break;case 1:this.x1=1400,this.y1=200,this.x2=900,this.y2=300,this.x3=1e3,this.y3=100;break;case 2:this.x1=900,this.y1=400,this.x2=1400,this.y2=100,this.x3=300,this.y3=300}this.clickIterator++,this.boo1.setVisible(!0).play("boo anim").setPosition(this.x1,this.y1).setScale(Phaser.Math.FloatBetween(.6,1)),this.boo2.setVisible(!0).play("boo anim").setPosition(this.x2,this.y2).setScale(Phaser.Math.FloatBetween(.6,1)),this.boo3.setVisible(!0).play("boo anim").setPosition(this.x3,this.y3).setScale(Phaser.Math.FloatBetween(.6,1)),s.Process.app.audio.play(this,"boo sfx"),this.concertGirlCelebrating.setVisible(!1),this.concertGirlWorried.setVisible(!0).play("concert girl worried anim"),s.Process.app.audio.play(this,"apple sad sfx"),this.speechBubble.setVisible(!0),this.speechBubbleContent.setVisible(!0)}}}class P{constructor(t){this.resourceParser=v,this.ajax=d,this.audio=c,this.type=o().AUTO,this.transparent=!0,this.backgroundColor="#000000",this.pixelArt=!1,this.banner=!1,this.parent=t.parent,this.pipeline=[],this.scale={mode:t.mode,autoCenter:t.position,width:t.width,height:t.height,min:{width:t.min.width,height:t.min.height},max:{width:t.max.width,height:t.max.height},scaleRatio:0,parentBottom:null,sizerBottom:null},this.dom={createContainer:!0},this.input={virtual:!0,gamepad:!0,type:t.inputType,mode:"A"},this.physics={default:"arcade"},this.scene=[f,b,g,_,k]}}window.onload=()=>{return t=void 0,e=void 0,n=function*(){s.Process.app=new P(s.Process),s.Process.game=new(o().Game)(s.Process.app)},new((i=void 0)||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((n=n.apply(t,e||[])).next())});var t,e,i,n}},235:()=>{},291:function(t){"use strict";t.exports=function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,s=n(t);if(e){var r=n(this).constructor;i=Reflect.construct(s,arguments,r)}else i=s.apply(this,arguments);return function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,i)}}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var s=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}(t,e);if(s){var r=Object.getOwnPropertyDescriptor(s,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}var h=Phaser.Input.Keyboard.Key,c=Phaser.Input.Keyboard.KeyCodes,l=function(){function e(i){t(this,e),this.cursorKeys={up:new h(i,c.UP),down:new h(i,c.DOWN),left:new h(i,c.LEFT),right:new h(i,c.RIGHT)},this.noKeyDown=!0}return i(e,[{key:"shutdown",value:function(){for(var t in this.cursorKeys)this.cursorKeys[t].destroy();this.cursorKeys=void 0}},{key:"destroy",value:function(t){shutdown(t)}},{key:"createCursorKeys",value:function(){return this.cursorKeys}},{key:"setKeyState",value:function(t,e){var i=this.cursorKeys[t];return i.enabled&&(e&&(this.noKeyDown=!1),i.isDown!==e&&(d.timeStamp=Date.now(),e?i.onDown(d):i.onUp(d))),this}},{key:"clearAllKeysState",value:function(){for(var t in this.noKeyDown=!0,this.cursorKeys)this.setKeyState(t,!1);return this}},{key:"getKeyState",value:function(t){return this.cursorKeys[t]}},{key:"upKeyDown",get:function(){return this.cursorKeys.up.isDown}},{key:"downKeyDown",get:function(){return this.cursorKeys.down.isDown}},{key:"leftKeyDown",get:function(){return this.cursorKeys.left.isDown}},{key:"rightKeyDown",get:function(){return this.cursorKeys.right.isDown}},{key:"anyKeyDown",get:function(){return!this.noKeyDown}}]),e}(),d={altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,location:0},u=180/Math.PI,p={"up&down":0,"left&right":1,"4dir":2,"8dir":3},m={},f=Phaser.Utils.Objects.GetValue,y=Phaser.Math.Distance.Between,b=Phaser.Math.Angle.Between,v=function(){s(n,l);var e=o(n);function n(i,s){var r;return t(this,n),(r=e.call(this,i)).resetFromJSON(s),r}return i(n,[{key:"resetFromJSON",value:function(t){null==this.start&&(this.start={}),null==this.end&&(this.end={}),this._enable=void 0,this.setEnable(f(t,"enable",!0)),this.setMode(f(t,"dir","8dir")),this.setDistanceThreshold(f(t,"forceMin",16));var e=f(t,"start.x",null),i=f(t,"start.y",null),s=f(t,"end.x",null),n=f(t,"end.y",null);return this.setVector(e,i,s,n),this}},{key:"toJSON",value:function(){return{enable:this.enable,dir:this.dirMode,forceMin:this.forceMin,start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}}}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=p[t]),this.dirMode=t,this}},{key:"enable",get:function(){return this._enable},set:function(t){if(this._enable!==t)return t||this.clearVector(),this._enable=t,this}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"toggleEnable",value:function(){return this.setEnable(!this.enable),this}},{key:"setDistanceThreshold",value:function(t){return t<0&&(t=0),this.forceMin=t,this}},{key:"clearVector",value:function(){return this.start.x=0,this.start.y=0,this.end.x=0,this.end.y=0,this.clearAllKeysState(),this}},{key:"setVector",value:function(t,e,i,s){if(this.clearVector(),!this.enable)return this;if(null===t)return this;if(void 0===i&&(i=t,s=e,e=t=0),this.start.x=t,this.start.y=e,this.end.x=i,this.end.y=s,0<this.forceMin&&this.force<this.forceMin)return this;var n=function(t,e,i){switch(void 0===i?i={}:!0===i&&(i=m),i.left=!1,i.right=!1,i.up=!1,i.down=!1,t=(t+360)%360,e){case 0:t<180?i.down=!0:i.up=!0;break;case 1:90<t&&t<=270?i.left=!0:i.right=!0;break;case 2:45<t&&t<=135?i.down=!0:135<t&&t<=225?i.left=!0:225<t&&t<=315?i.up=!0:i.right=!0;break;case 3:22.5<t&&t<=67.5?(i.down=!0,i.right=!0):67.5<t&&t<=112.5?i.down=!0:112.5<t&&t<=157.5?(i.down=!0,i.left=!0):157.5<t&&t<=202.5?i.left=!0:202.5<t&&t<=247.5?(i.left=!0,i.up=!0):247.5<t&&t<=292.5?i.up=!0:(292.5<t&&t<=337.5&&(i.up=!0),i.right=!0)}return i}(this.angle,this.dirMode,!0);for(var r in n)n[r]&&this.setKeyState(r,!0);return this}},{key:"forceX",get:function(){return this.end.x-this.start.x}},{key:"forceY",get:function(){return this.end.y-this.start.y}},{key:"force",get:function(){return y(this.start.x,this.start.y,this.end.x,this.end.y)}},{key:"rotation",get:function(){return b(this.start.x,this.start.y,this.end.x,this.end.y)}},{key:"angle",get:function(){return this.rotation*u}},{key:"octant",get:function(){var t=0;return this.rightKeyDown?t=this.downKeyDown?45:0:this.downKeyDown?t=this.leftKeyDown?135:90:this.leftKeyDown?t=this.upKeyDown?225:180:this.upKeyDown&&(t=this.rightKeyDown?315:270),t}}]),n}(),g={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=!0===t||void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},w=Phaser.Utils.Objects.GetValue,_=Phaser.Geom.Circle,x=Phaser.Geom.Circle.Contains,k=function(){s(r,v);var e=o(r);function r(i,s){var n;t(this,r);var o=i.scene;n=e.call(this,o,s);var a=w(s,"eventEmitter",void 0),h=w(s,"EventEmitterClass",void 0);return n.setEventEmitter(a,h),n.scene=o,n.gameObject=i,n.radius=w(s,"radius",100),i.setInteractive(new _(i.displayOriginX,i.displayOriginY,n.radius),x),n.boot(),n}return i(r,[{key:"resetFromJSON",value:function(t){return a(n(r.prototype),"resetFromJSON",this).call(this,t),this.pointer=void 0,this}},{key:"toJSON",value:function(){var t=a(n(r.prototype),"toJSON",this).call(this);return t.radius=this.radius,t}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onKeyDownStart,this),this.gameObject.on("pointerover",this.onKeyDownStart,this),this.scene.input.on("pointermove",this.onKeyDown,this),this.scene.input.on("pointerup",this.onKeyUp,this),this.gameObject.once("destroy",this.onParentDestroy,this)}},{key:"shutdown",value:function(){this.scene&&(this.scene.input.off("pointermove",this.onKeyDown,this),this.scene.input.off("pointerup",this.onKeyUp,this),this.destroyEventEmitter(),this.pointer=void 0,this.scene=void 0,this.gameObject=void 0,a(n(r.prototype),"shutdown",this).call(this))}},{key:"destroy",value:function(t){this.shutdown(t)}},{key:"onParentDestroy",value:function(t,e){this.destroy(e)}},{key:"onKeyDownStart",value:function(t){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.onKeyDown(t))}},{key:"onKeyDown",value:function(t){this.pointer===t&&t.camera&&(this.setVector(this.gameObject.x+t.camera.scrollX,this.gameObject.y+t.camera.scrollY,t.worldX,t.worldY),this.emit("update"))}},{key:"onKeyUp",value:function(t){this.pointer===t&&(this.pointer=void 0,this.clearVector(),this.emit("update"))}}]),r}();Object.assign(k.prototype,g);var P=Phaser.Utils.Objects.GetValue,T=function(){function e(i,s){t(this,e),void 0===s&&(s={});var n=P(s,"eventEmitter",void 0),r=P(s,"EventEmitterClass",void 0);this.setEventEmitter(n,r),s.eventEmitter=this.getEventEmitter(),this.scene=i,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0,this.setRadius(P(s,"radius",100)),this.addBase(P(s,"base",void 0),s),this.addThumb(P(s,"thumb",void 0));var o=P(s,"x",0),a=P(s,"y",0);this.base.setPosition(o,a),this.thumb.setPosition(o,a),P(s,"fixed",!0)&&this.setScrollFactor(0),this.boot()}return i(e,[{key:"destroy",value:function(){this.destroyEventEmitter(),this.base.destroy(),this.thumb.destroy(),this.base=void 0,this.thumb=void 0,this.touchCursor=void 0}},{key:"createCursorKeys",value:function(){return this.touchCursor.createCursorKeys()}},{key:"forceX",get:function(){return this.touchCursor.forceX}},{key:"forceY",get:function(){return this.touchCursor.forceY}},{key:"force",get:function(){return this.touchCursor.force}},{key:"rotation",get:function(){return this.touchCursor.rotation}},{key:"angle",get:function(){return this.touchCursor.angle}},{key:"up",get:function(){return this.touchCursor.upKeyDown}},{key:"down",get:function(){return this.touchCursor.downKeyDown}},{key:"left",get:function(){return this.touchCursor.leftKeyDown}},{key:"right",get:function(){return this.touchCursor.rightKeyDown}},{key:"noKey",get:function(){return this.touchCursor.noKeyDown}},{key:"pointerX",get:function(){return this.touchCursor.end.x}},{key:"pointerY",get:function(){return this.touchCursor.end.y}},{key:"pointer",get:function(){return this.touchCursor.pointer}},{key:"setPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"x",get:function(){return this.base.x},set:function(t){this.base.x=t,this.thumb.x=t}},{key:"y",get:function(){return this.base.y},set:function(t){this.base.y=t,this.thumb.y=t}},{key:"setVisible",value:function(t){return this.visible=t,this}},{key:"toggleVisible",value:function(){return this.visible=!this.visible,this}},{key:"visible",get:function(){return this.base.visible},set:function(t){this.base.visible=t,this.thumb.visible=t}},{key:"enable",get:function(){return this.touchCursor.enable},set:function(t){this.touchCursor.setEnable(t)}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"toggleEnable",value:function(){return this.setEnable(!this.enable),this}},{key:"setRadius",value:function(t){return this.radius=t,this}},{key:"addBase",value:function(t,e){return this.base&&this.base.destroy(),void 0===t&&(t=this.scene.add.circle(0,0,this.radius).setStrokeStyle(3,255)),this.touchCursor=new k(t,e),this.base=t,this}},{key:"addThumb",value:function(t){return this.thumb&&this.thumb.destroy(),void 0===t&&(t=this.scene.add.circle(0,0,40).setStrokeStyle(3,65280)),this.thumb=t,this}},{key:"setScrollFactor",value:function(t){return this.base.setScrollFactor(t),this.thumb.setScrollFactor(t),this}},{key:"boot",value:function(){this.touchCursor.on("update",this.update,this)}},{key:"update",value:function(){var t=this.touchCursor,e=this.base.x,i=this.base.y;if(t.anyKeyDown)if(t.force>this.radius){var s=t.rotation;e+=Math.cos(s)*this.radius,i+=Math.sin(s)*this.radius}else e+=t.forceX,i+=t.forceY;return this.thumb.x=e,this.thumb.y=i,this}}]),e}();return Object.assign(T.prototype,g),function(){s(n,Phaser.Plugins.BasePlugin);var e=o(n);function n(i){return t(this,n),e.call(this,i)}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new T(t,e)}}]),n}()}()}},i={};function s(t){var n=i[t];if(void 0!==n)return n.exports;var r=i[t]={exports:{}};return e[t].call(r.exports,r,r.exports,s),r.exports}s.m=e,t=[],s.O=(e,i,n,r)=>{if(!i){var o=1/0;for(l=0;l<t.length;l++){for(var[i,n,r]=t[l],a=!0,h=0;h<i.length;h++)(!1&r||o>=r)&&Object.keys(s.O).every(t=>s.O[t](i[h]))?i.splice(h--,1):(a=!1,r<o&&(o=r));if(a){t.splice(l--,1);var c=n();void 0!==c&&(e=c)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[i,n,r]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={792:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var n,r,[o,a,h]=i,c=0;if(o.some(e=>0!==t[e])){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(h)var l=h(s)}for(e&&e(i);c<o.length;c++)r=o[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(l)},i=self.webpackChunkphaser_project_template=self.webpackChunkphaser_project_template||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),s.O(void 0,[96],()=>s(20));var n=s.O(void 0,[96],()=>s(235));n=s.O(n)})();